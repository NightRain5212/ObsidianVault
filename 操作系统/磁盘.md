
# 一次磁盘读写时间

- **寻道时间** $T_s$：**将磁头移动到对应的磁道所需时间**。启动磁头臂时间$s$，跨越磁道数$n$ ,平均跨越速度$m$：$T_s = s + n\times m$
- **延迟时间** $T_R$：通过旋转磁盘，**将磁头定位到目标扇区所需时间**。磁盘转速为$r$，$\frac{1}{r}$是转一圈的时间，找到目标扇区的平均需要装半圈，$T_R=\frac{1}{2r}$
- **传输时间** $T_t$：**从磁盘读写数据要经历的时间**。磁盘转速为$r$，此次读写字节数为$b$，每个磁道上字节数为$N$，$T_t = \frac{b}{rN}$。
- **延迟时间和传输时间都与磁盘转速有关**，是硬件的固有属性，**操作系统无法优化。**
- 操作系统根据磁盘调度算法优化寻道时间


# 磁盘调度算法

## 先来先服务FCFS

- 核心思想：**根据进程请求访问磁盘的先后顺序进行调度。**
- 缺点：如果大量进程竞争使用磁盘，请求磁道很分散，则性能很低，寻道时间长。
- 优点：实现简单。

## 最短寻找时间优先SSTF

- 核心思想：**优先处理与当前磁头最近的磁道，类似贪心思想。**
- 优点：性能较好，平均寻道时间短
- 缺点：**可能产生饥饿**现象（一直处理请求密集区，而不处理距离远的磁道，磁头在一个小区域内来回移动）。

## 扫描算法SCAN

- 核心思想：**只有磁头移动到最外侧磁道时才能往内移动，移动到最内侧磁道时才能往外移动**，也叫电梯算法。
- 优点：性能好，不产生饥饿现象
- 缺点：只有到达最边上的磁道才能改变磁头移动方向。**对各个位置的磁道响应频率不平均。**

## LOOK调度

- 思想：在**SCAN算法基础上**改进，**如果磁头在移动方向上没有别的请求，就立即改变磁头移动方向。**

## 循环扫描算法CSCAN

- 思想：**只有磁头朝某个方向移动时才处理访问请求，返回时快速移动到起始端，不处理任何请求。**
- 优点：解决了SCAN对各个位置的磁道响应频率不平均的问题。
- 缺点：只有到达最边上的磁道才能改变磁头移动方向。

## CLOOK算法

- 思想：在CSCAN算法的基础上，**如果磁头在移动方向上没有别的请求，就立即让磁头返回，返回到最靠边缘的有磁道访问请求的位置即可**

# 减少延迟时间

- 如果逻辑相邻的扇区在物理上也相邻，则**读入几个连续的逻辑扇区，延迟时间可能会很长**。因为磁头读入一个扇区后需要一小段时间处理，会错过要读入的下一个连续的扇区。
- **使用交替编号的策略**：**让编号相邻的扇区物理上不相邻**，可以使得读取连续逻辑扇区的延迟时间更小。
- 使用**错位命名的策略**与交替编号类似：**让相邻盘面的扇区编号错位**，可降低延迟时间

